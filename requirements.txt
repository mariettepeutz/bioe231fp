### REQUIREMENTS ###
# Use this file to set up all necessary dependencies for running the project.

### Step 1: Install Necessary Tools ###

# 1.1 Install wget
# macOS:
brew install wget
# Linux (Ubuntu/Debian):
sudo apt install wget

# 1.2 Install samtools
# macOS:
brew install samtools
# Linux (Ubuntu/Debian):
sudo apt install samtools

# 1.3 Install bowtie2
# macOS:
brew install bowtie2
# Linux (Ubuntu/Debian):
sudo apt install bowtie2

# 1.4 Install Node.js and JBrowse CLI
# macOS:
brew install node@20
sudo npm install -g @jbrowse/cli
# Linux:
sudo apt install nodejs
sudo npm install -g @jbrowse/cli

# Verify installation:
node -v
jbrowse --version

### Step 2: Apache Server Setup ###

# 2.1 Install apache2
# macOS:
brew install httpd
# Linux (Ubuntu/Debian):
sudo apt install apache2

# 2.2 Start the apache2 server
# macOS:
sudo brew services start httpd
# Linux:
sudo service apache2 start

# 2.3 Verify the apache2 server root directory
# Use the following command to find the root directory:
sudo find / -name "www" 2>/dev/null

# Example (replace with actual path):
export APACHE_ROOT='/path/to/rootdir'

### Step 3: JBrowse2 Installation ###

# 3.1 Create a temporary working directory:
mkdir ~/tmp
cd ~/tmp

# 3.2 Download and install JBrowse2:
jbrowse create output_folder
sudo mv output_folder $APACHE_ROOT/jbrowse2
sudo chown -R $(whoami) $APACHE_ROOT/jbrowse2

# 3.3 Test your JBrowse2 installation:
# Open a browser and visit:
# http://localhost/jbrowse2/

### Notes on Using JBrowse ###
# - Follow platform-specific instructions in the lab guide for macOS, Linux, or AWS.
# - Use the guide provided in https://currentprotocols.onlinelibrary.wiley.com/doi/10.1002/cpz1.1120
# - If you encounter issues, consult your lab instructions or the documentation linked above.

### Additional Resources ###
# - Apache2 setup: https://httpd.apache.org/docs/
# - JBrowse CLI: https://jbrowse.org/

